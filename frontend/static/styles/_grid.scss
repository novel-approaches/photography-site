
%pseudo {
  position: absolute;
  width: 100%;
  left: 0;
  opacity: 0;
  -webkit-transition: all 0.35s cubic-bezier(0, 0, 0.2, 1);
  -moz-transition:    all 0.35s cubic-bezier(0, 0, 0.2, 1);
  -ms-transition:     all 0.35s cubic-bezier(0, 0, 0.2, 1);
  -o-transition:      all 0.35s cubic-bezier(0, 0, 0.2, 1);
  transition:         all 0.35s cubic-bezier(0, 0, 0.2, 1);
}

@mixin alignPseudo($vertAlign: top) {
  @extend %pseudo;
  #{$vertAlign}: 0;
}


.grid {
  position: relative;
  display: flex;
  width: 100%;
  height: 100%;
  flex: 1;
  flex-wrap: wrap;
  align-content: flex-start;
  box-sizing: border-box;

  *,
  *:before,
  *:after { box-sizing: inherit; }

  &-link { cursor: pointer; }
  &-rows { display: flex; }
  &-row {
    display: inline-flex;
    flex-wrap: wrap;
  }

  &-wrapper {    
    position: relative;
    height: calc(100% - 57.5px);
    top: 20px;
    overflow-y: scroll;
  }

  &-item {
    position: relative;
    display: inline-flex;
    overflow: hidden;

    > * { z-index: 2; }
  }
  
  &-media {
    position: relative;
    height: 100%;
    width: 100%;
    vertical-align: middle;
    -webkit-transition: -webkit-transform .135s cubic-bezier(0, 0, 0.2, 1);
    -webkit-transition: transform .135s cubic-bezier(0, 0, 0.2, 1);
    transition:         transform .135s cubic-bezier(0, 0, 0.2, 1);
    z-index: 1;

    &:before {
      @include alignPseudo(top);
      content: '';
      height: 100%;
      background-image: -webkit-linear-gradient(to bottom, rgba(0, 0, 0, 0.26), transparent 56px, transparent);
      background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.26), transparent 56px, transparent);
      z-index: 2;
    }

    &:hover:before { opacity: 1; }

    &:after {
      @include alignPseudo(bottom);
      @extend %hidden;
      content: 'Res. ' attr(data-dims) ' - ' attr(data-domain);
      height: 0;
      background-color: rgba(102, 102, 102, 0.73);
      color: #FFF;
      font: 200 0.85rem 'Helvetica Neue', sans-serif;
      text-indent: 0.75rem;
    }

    &:hover:after {
      @extend %visible;
      height: 20px;
      z-index: 1;
    }

    img,
    video {
      position: relative;
      display: block;
      height: 100%;
      background-color: transparent;
      z-index: 1;
    }
  }
}
