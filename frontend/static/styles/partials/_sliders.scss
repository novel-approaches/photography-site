
// Sass Placeholders:
%boxShadow { @include cbBoxShadow(1px 1px 1px $theme-content-dark, 0 0 1px $shadowColor); }

%sliderThumb {
  @include cbBorderRadii(3px);
  @extend %boxShadow;
  width: 16px;
  height: 36px;
  border: 1px solid $theme-content-dark;
  background-color: $theme-content-light;
}

%sliderTrack {
  @include cbBorderRadii(10px);
  @extend %boxShadow;
  height: 10px;
  background-color: $theme-primary;
  border: 0.2px solid $borderColor;
  cursor: pointer;
}


// Containing form element styles:
.slide-btn {
  @include center(horizontal, absolute);
  width: 65%;
  max-width: 100px;
  height: 40px;
  left: calc(50% + 5px);
  bottom: calc(12.5vh + 10px);
  margin: auto;
  font: bolder 2rem/1 'Arial', sans-serif;
  z-index: 1;

  > * {
    @include fade(0.35s, 0s, ease-in-out, left transform);
    transform-style: preserve-3d;
  }
  &.fix-left {
    @include cbBoxShadow(
      0 -2px 12px 0.5px rgba(255, 255, 255, 0.6),
      2px 0 12px 0.5px rgba(255, 255, 255, 0.60)
    );
    left: 0;
    transform: none;

    > * { @include cbTransform(rotate(0.5turn)); }
    &:hover {
      background-color: $theme-primary-focus;
      color: $theme-content-light;
    }
  }
}

#sidebar {
  @include fade(0.35s, 0s, ease-in-out, width);
  @include flex(flex, column, space-around);
  @extend %no-select;
  position: fixed;
  width: 10vw;
  height: 87.5vh;
  overflow: hidden;

  form[name='grid-form'] {
    @include flex(flex, column);
    position: relative;
    width: 100%;
    height: calc(100% - 40px);
    bottom: 40px;

    fieldset {
      width: 5vw;
      height: 25vh;
      min-height: 250px;
      padding: 0;
      margin: auto;
      border: none;
      text-align: center;
    }
    output,
    label {
      display: block;

      > span {
        position: relative;
        display: block;
        top: -5px;
        font: normal 0.75rem/1 Roboto, sans-serif;
        color: $theme-content-fade-dark;
      }
    }

    output {
      @include fade(0.35s, 0.1s, cubic-bezier(0.0, 0.0, 0.2, 1), visibility opacity);
      @include cbBorderRadii(6px);
      @include cbBoxShadow(
        -1px -1px 10px 0 rgba(41, 41, 41, 0.38),
        -3px -3px 12px 0 rgba(0, 0, 0, 0.63)
      );
      @extend %hidden;
      position: relative;
      display: table;
      height: 2rem;
      top: 10px;
      margin: auto;
      padding: 0 1rem;
      background-color: $theme-content-fade-primary;    // $theme-content-dark;
      color: $theme-content-light;
      font: 600 1.15rem/2rem Roboto, sans-serif;
      letter-spacing: 2px;

      &.active { @extend %visible; }
    }

    .output-wrapper {
      @include flex(flex, row, space-between);
      width: 75%;
      margin: auto;
    }
  }
}

// Style <input> elements of type `range`:
input[type='range'] {
  @include cbBorderRadii(10px);
  @include cbTransform(rotate(-270deg));
  @include cbBoxShadow(0 0 3px $shadowColor);
  height: 10px;
  margin: 65px 0;
  background-color: transparent;
  -webkit-appearance: none;
  cursor: pointer;
}
input[type='range']:focus { outline: none; }

// Special styling for WebKit/Blink
input[type='range']::-webkit-slider-thumb {
  @include cbBorderRadii(3px);
  -webkit-appearance: none;
  width: 16px;
  // height: 10px;
  height: 36px;
  top: 20px;
  margin-top: -14px;  // Necessary margin specification for Chrome; automatic in Firefox & IE
  background-color: transparent;
  border-width: 17.5px 10px 10px 10px;
  border-style: solid;
  border-color: #C9B131 transparent transparent transparent;
  cursor: ns-resize;
}
// Mirror styles for Mozilla Firefox:
input[type='range']::-moz-range-thumb {
  @extend %sliderThumb;
  cursor: ns-resize;
}
// Mirror styles for Microsoft IE:
input[type='range']::-ms-thumb {
  @extend %sliderThumb;
  cursor: ns-resize;
}

// Styling the slider track:
input[type='range']::-webkit-slider-runnable-track {
  @include cbBorderRadii(10px);
  @extend %sliderTrack;
  height: 10px;
  margin: 65px 0;
  background: $theme-primary;
  cursor: pointer;
}
input[type='range']:focus::-webkit-slider-runnable-track { background-color: $theme-primary-focus; }
input[type='range']::-moz-range-track { @extend %sliderTrack; }
input[type='range']::-ms-track {
  width: 100%;
  height: 10px;
  background-color: transparent;
  border-color: transparent;
  border-width: 16px 0;
  color: transparent;
  cursor: pointer;
}

input[type='range']::-ms-fill-lower {
  @include cbBorderRadii(2.6px);
  @extend %boxShadow;
  background-color: $theme-primary;
  border: 0.2px solid $borderColor;
}
input[type='range']:focus::-ms-fill-lower {
  background-color: $theme-primary;
  outline: none;
}
input[type='range']::-ms-fill-upper {
  @include cbBorderRadii(2.6px);
  @extend %boxShadow;
  background-color: $theme-primary-focus;
  border: 0.2px solid $borderColor;
}
input[type='range']:focus::-ms-fill-upper {
  background-color: $theme-primary;
  outline: none;
  border: none;
}
